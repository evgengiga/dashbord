# ðŸ” Ð”Ð¸Ð°Ð³Ð½Ð¾ÑÑ‚Ð¸ÐºÐ°: Backend Ð½Ðµ Ð·Ð°Ð¿ÑƒÑÐºÐ°ÐµÑ‚ÑÑ

## ÐŸÑ€Ð¾Ð±Ð»ÐµÐ¼Ð°

Backend Ð·Ð°Ð¿ÑƒÑÐºÐ°ÐµÑ‚ÑÑ, Ð½Ð¾ ÑÑ€Ð°Ð·Ñƒ Ð¿Ð°Ð´Ð°ÐµÑ‚ Ñ Ð¾ÑˆÐ¸Ð±ÐºÐ¾Ð¹ `Exit 1`.

## Ð¨Ð°Ð³ 1: ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ Ð»Ð¾Ð³Ð¸

**Ð’Ð½ÑƒÑ‚Ñ€Ð¸ Docker Ð¾ÐºÑ€ÑƒÐ¶ÐµÐ½Ð¸Ñ Ð²Ñ‹Ð¿Ð¾Ð»Ð½Ð¸:**

```bash
cd ~/dashboard.headcorn.pro/backend
cat backend.log
```

**Ð˜Ð»Ð¸ Ð¿Ð¾ÑÐ¼Ð¾Ñ‚Ñ€Ð¸ Ð¿Ð¾ÑÐ»ÐµÐ´Ð½Ð¸Ðµ ÑÑ‚Ñ€Ð¾ÐºÐ¸:**

```bash
tail -50 backend.log
```

---

## Ð¨Ð°Ð³ 2: ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚Ð¸

**ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒ, Ñ‡Ñ‚Ð¾ Ð²ÑÐµ Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚Ð¸ ÑƒÑÑ‚Ð°Ð½Ð¾Ð²Ð»ÐµÐ½Ñ‹:**

```bash
source venv/bin/activate
pip list | grep -E "(fastapi|uvicorn|sqlalchemy)"
```

**Ð•ÑÐ»Ð¸ Ñ‡ÐµÐ³Ð¾-Ñ‚Ð¾ Ð½Ðµ Ñ…Ð²Ð°Ñ‚Ð°ÐµÑ‚:**

```bash
pip install -r requirements.txt
```

---

## Ð¨Ð°Ð³ 3: ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ .env Ñ„Ð°Ð¹Ð»

**ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒ, Ñ‡Ñ‚Ð¾ .env Ñ„Ð°Ð¹Ð» ÑÑƒÑ‰ÐµÑÑ‚Ð²ÑƒÐµÑ‚ Ð¸ Ð·Ð°Ð¿Ð¾Ð»Ð½ÐµÐ½:**

```bash
cat .env
```

**Ð•ÑÐ»Ð¸ Ñ„Ð°Ð¹Ð»Ð° Ð½ÐµÑ‚, ÑÐ¾Ð·Ð´Ð°Ð¹ ÐµÐ³Ð¾:**

```bash
cat > .env << EOF
DB_HOST=pg4.sweb.ru
DB_PORT=5433
DB_USER=headcorne_test
DB_PASSWORD=Ss8SRGP5TH3W6J@L
DB_NAME=headcorne_test
PLANFIX_API_URL=https://megamindru.planfix.ru/rest/
PLANFIX_API_TOKEN=3325457cab2f1a9b69b3c9191eeadc82
SECRET_KEY=super-secret-key-change-in-production-min-32-characters-long
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=1440
APP_NAME=Dashboard Service
DEBUG=False
CORS_ORIGINS=https://dashboard.headcorn.pro
EOF
```

---

## Ð¨Ð°Ð³ 4: ÐŸÐ¾Ð¿Ñ€Ð¾Ð±Ð¾Ð²Ð°Ñ‚ÑŒ Ð·Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚ÑŒ Ð² Ð¸Ð½Ñ‚ÐµÑ€Ð°ÐºÑ‚Ð¸Ð²Ð½Ð¾Ð¼ Ñ€ÐµÐ¶Ð¸Ð¼Ðµ

**Ð­Ñ‚Ð¾ Ð¿Ð¾ÐºÐ°Ð¶ÐµÑ‚ Ð¾ÑˆÐ¸Ð±ÐºÑƒ ÑÑ€Ð°Ð·Ñƒ:**

```bash
source venv/bin/activate
uvicorn app.main:app --host 0.0.0.0 --port 8001
```

**Ð¡Ð¼Ð¾Ñ‚Ñ€Ð¸ Ð½Ð° Ð¾ÑˆÐ¸Ð±ÐºÐ¸ Ð² Ð²Ñ‹Ð²Ð¾Ð´Ðµ!**

---

## Ð¨Ð°Ð³ 5: ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ Python Ð¸ Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚Ð¸

**ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒ Ð²ÐµÑ€ÑÐ¸ÑŽ Python:**

```bash
source venv/bin/activate
python --version
which python
```

**ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒ, Ñ‡Ñ‚Ð¾ uvicorn ÑƒÑÑ‚Ð°Ð½Ð¾Ð²Ð»ÐµÐ½:**

```bash
which uvicorn
uvicorn --version
```

---

## Ð§Ð°ÑÑ‚Ñ‹Ðµ Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼Ñ‹ Ð¸ Ñ€ÐµÑˆÐµÐ½Ð¸Ñ

### ÐŸÑ€Ð¾Ð±Ð»ÐµÐ¼Ð° 1: ÐžÑ‚ÑÑƒÑ‚ÑÑ‚Ð²ÑƒÑŽÑ‚ Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚Ð¸

**Ð ÐµÑˆÐµÐ½Ð¸Ðµ:**
```bash
source venv/bin/activate
pip install --upgrade pip
pip install -r requirements.txt
```

### ÐŸÑ€Ð¾Ð±Ð»ÐµÐ¼Ð° 2: ÐžÑˆÐ¸Ð±ÐºÐ° Ð¿Ð¾Ð´ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ñ Ðº Ð‘Ð”

**Ð ÐµÑˆÐµÐ½Ð¸Ðµ:** ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒ .env Ñ„Ð°Ð¹Ð» Ð¸ Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð½Ð¾ÑÑ‚ÑŒ Ð‘Ð”:
```bash
# ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒ Ð¿Ð¾Ð´ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ðµ Ðº Ð‘Ð”
psql -h pg4.sweb.ru -p 5433 -U headcorne_test -d headcorne_test -c "SELECT 1;"
```

### ÐŸÑ€Ð¾Ð±Ð»ÐµÐ¼Ð° 3: ÐŸÐ¾Ñ€Ñ‚ Ð·Ð°Ð½ÑÑ‚

**Ð ÐµÑˆÐµÐ½Ð¸Ðµ:** ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒ Ð¸ Ð¾ÑÐ²Ð¾Ð±Ð¾Ð´Ð¸ Ð¿Ð¾Ñ€Ñ‚:
```bash
ss -tuln | grep 8001
# Ð•ÑÐ»Ð¸ Ð·Ð°Ð½ÑÑ‚, ÑƒÐ±ÐµÐ¹ Ð¿Ñ€Ð¾Ñ†ÐµÑÑ Ð¸Ð»Ð¸ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐ¹ Ð´Ñ€ÑƒÐ³Ð¾Ð¹ Ð¿Ð¾Ñ€Ñ‚
```

### ÐŸÑ€Ð¾Ð±Ð»ÐµÐ¼Ð° 4: ÐžÑˆÐ¸Ð±ÐºÐ° Ð¸Ð¼Ð¿Ð¾Ñ€Ñ‚Ð° Ð¼Ð¾Ð´ÑƒÐ»ÐµÐ¹

**Ð ÐµÑˆÐµÐ½Ð¸Ðµ:** ÐŸÐµÑ€ÐµÑƒÑÑ‚Ð°Ð½Ð¾Ð²Ð¸ Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚Ð¸:
```bash
source venv/bin/activate
pip install --force-reinstall -r requirements.txt
```

---

## Ð¡Ð»ÐµÐ´ÑƒÑŽÑ‰Ð¸Ðµ ÑˆÐ°Ð³Ð¸

1. **Ð’Ñ‹Ð¿Ð¾Ð»Ð½Ð¸ Ð¨Ð°Ð³ 1** - Ð¿Ð¾ÑÐ¼Ð¾Ñ‚Ñ€Ð¸ Ð»Ð¾Ð³Ð¸ Ð¸ Ð¿Ñ€Ð¸ÑˆÐ»Ð¸ Ð¾ÑˆÐ¸Ð±ÐºÑƒ
2. **Ð’Ñ‹Ð¿Ð¾Ð»Ð½Ð¸ Ð¨Ð°Ð³ 4** - Ð·Ð°Ð¿ÑƒÑÑ‚Ð¸ Ð² Ð¸Ð½Ñ‚ÐµÑ€Ð°ÐºÑ‚Ð¸Ð²Ð½Ð¾Ð¼ Ñ€ÐµÐ¶Ð¸Ð¼Ðµ Ð¸ Ð¿Ñ€Ð¸ÑˆÐ»Ð¸ Ð²Ñ‹Ð²Ð¾Ð´
3. ÐŸÐ¾ÑÐ»Ðµ ÑÑ‚Ð¾Ð³Ð¾ Ñ ÑÐ¼Ð¾Ð³Ñƒ Ñ‚Ð¾Ñ‡Ð½Ð¾ ÑÐºÐ°Ð·Ð°Ñ‚ÑŒ, Ð² Ñ‡ÐµÐ¼ Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼Ð°




