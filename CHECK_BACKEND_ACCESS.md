# üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ Backend

## –ü—Ä–æ–±–ª–µ–º–∞

`.htaccess` –Ω–∞—Å—Ç—Ä–æ–µ–Ω –Ω–∞ –ø–æ—Ä—Ç 8002, –Ω–æ –≤—Å–µ —Ä–∞–≤–Ω–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç. –ù—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, –¥–æ—Å—Ç—É–ø–µ–Ω –ª–∏ backend —Å –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞.

---

## –ü—Ä–æ–≤–µ—Ä–∫–∞

**–ù–∞ –æ—Å–Ω–æ–≤–Ω–æ–º —Å–µ—Ä–≤–µ—Ä–µ (–ù–ï –≤ Docker –æ–∫—Ä—É–∂–µ–Ω–∏–∏):**

```bash
# 1. –ü—Ä–æ–≤–µ—Ä—å, —á—Ç–æ –ø–æ—Ä—Ç 8002 —Å–ª—É—à–∞–µ—Ç
netstat -tuln | grep 8002
# –ò–ª–∏
ss -tuln | grep 8002

# 2. –ü—Ä–æ–≤–µ—Ä—å –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å backend
curl http://127.0.0.1:8002/api/health
curl http://localhost:8002/api/health

# 3. –ü—Ä–æ–≤–µ—Ä—å, —á—Ç–æ –ø—Ä–æ—Ü–µ—Å—Å –∑–∞–ø—É—â–µ–Ω
ps aux | grep uvicorn | grep 8002
```

---

## –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### –ü—Ä–æ–±–ª–µ–º–∞ 1: Backend –∑–∞–ø—É—â–µ–Ω —Ç–æ–ª—å–∫–æ –≤–Ω—É—Ç—Ä–∏ Docker –æ–∫—Ä—É–∂–µ–Ω–∏—è

**–ï—Å–ª–∏ backend –∑–∞–ø—É—â–µ–Ω –≤–Ω—É—Ç—Ä–∏ Docker –æ–∫—Ä—É–∂–µ–Ω–∏—è (`ssh localhost -p222`), –æ–Ω –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω —Å –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞.**

**–†–µ—à–µ–Ω–∏–µ:** Backend –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –¥–æ—Å—Ç—É–ø–µ–Ω —Å –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞. –ü—Ä–æ–≤–µ—Ä—å:

```bash
# –í—ã–π–¥–∏ –∏–∑ Docker –æ–∫—Ä—É–∂–µ–Ω–∏—è
exit

# –ü—Ä–æ–≤–µ—Ä—å –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å
curl http://127.0.0.1:8002/api/health
```

**–ï—Å–ª–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç**, –Ω—É–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –ø—Ä–æ–±—Ä–æ—Å –ø–æ—Ä—Ç–∞ –∏–ª–∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å backend –Ω–∞ –æ—Å–Ω–æ–≤–Ω–æ–º —Å–µ—Ä–≤–µ—Ä–µ.

---

### –ü—Ä–æ–±–ª–µ–º–∞ 2: .htaccess –∏—Å–ø–æ–ª—å–∑—É–µ—Ç localhost –≤–º–µ—Å—Ç–æ 127.0.0.1

**–ü—Ä–æ–≤–µ—Ä—å .htaccess:**

```bash
cd ~/dashboard.headcorn.pro/public_html
cat .htaccess | grep 8002
```

**–ï—Å–ª–∏ —Ç–∞–º `localhost:8002`, –ø–æ–ø—Ä–æ–±—É–π –∏–∑–º–µ–Ω–∏—Ç—å –Ω–∞ `127.0.0.1:8002`:**

```bash
nano .htaccess
```

**–ò–∑–º–µ–Ω–∏:**
```apache
RewriteRule ^api/(.*)$ http://127.0.0.1:8002/api/$1 [P,L]
```

**–°–æ—Ö—Ä–∞–Ω–∏:** `Ctrl+O`, `Enter`, `Ctrl+X`

---

### –ü—Ä–æ–±–ª–µ–º–∞ 3: Backend –Ω–µ —Å–ª—É—à–∞–µ—Ç –Ω–∞ 0.0.0.0

**–ü—Ä–æ–≤–µ—Ä—å, –∫–∞–∫ –∑–∞–ø—É—â–µ–Ω backend:**

```bash
# –í–æ–π–¥–∏ –≤ Docker –æ–∫—Ä—É–∂–µ–Ω–∏–µ
ssh localhost -p222

# –ü—Ä–æ–≤–µ—Ä—å –ø—Ä–æ—Ü–µ—Å—Å
ps aux | grep uvicorn
```

**–î–æ–ª–∂–Ω–æ –±—ã—Ç—å:**
```
uvicorn app.main:app --host 0.0.0.0 --port 8002
```

**–ï—Å–ª–∏ —Ç–∞–º `--host 127.0.0.1`, –∏–∑–º–µ–Ω–∏ –Ω–∞ `0.0.0.0`:**

```bash
pkill -f uvicorn
source venv/bin/activate
nohup uvicorn app.main:app --host 0.0.0.0 --port 8002 > backend.log 2>&1 &
```

---

## –ü–æ–ª–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞

**–í—ã–ø–æ–ª–Ω–∏ –≤—Å–µ –∫–æ–º–∞–Ω–¥—ã –ø–æ –ø–æ—Ä—è–¥–∫—É:**

```bash
# 1. –ù–∞ –æ—Å–Ω–æ–≤–Ω–æ–º —Å–µ—Ä–≤–µ—Ä–µ –ø—Ä–æ–≤–µ—Ä—å –ø–æ—Ä—Ç
ss -tuln | grep 8002

# 2. –ü—Ä–æ–≤–µ—Ä—å –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å
curl -v http://127.0.0.1:8002/api/health

# 3. –ü—Ä–æ–≤–µ—Ä—å .htaccess
cat ~/dashboard.headcorn.pro/public_html/.htaccess | grep 8002

# 4. –ï—Å–ª–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, –ø—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏ Apache
tail -50 /var/log/apache2/error.log
# –ò–ª–∏
tail -50 /var/log/httpd/error_log
```

**–ü—Ä–∏—à–ª–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤—Å–µ—Ö –∫–æ–º–∞–Ω–¥.**




